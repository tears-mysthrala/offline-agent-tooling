# Archive of extended FS / search smoke tests
# Moved out of commands.txt to avoid running these every time.

# FS extended ops tests

# Make test directory
tools\ps\fs.ps1 -op mkdir -path d:\tooling\testdir

# Write JSON into testdir
tools\ps\fs.ps1 -op write-json -path d:\tooling\testdir\data.json -content "{ \"a\": 1, \"b\": \"x\" }"

# Read JSON back
tools\ps\fs.ps1 -op read-json -path d:\tooling\testdir\data.json

# Append to tmp.txt
tools\ps\fs.ps1 -op append -path d:\tooling\tmp.txt -content "mundo"

# Read lines from tmp.txt
tools\ps\fs.ps1 -op read-lines -path d:\tooling\tmp.txt

# Checksum tmp.txt
tools\ps\fs.ps1 -op checksum -path d:\tooling\tmp.txt

# Glob for txt files
tools\ps\fs.ps1 -op glob -path d:\tooling -pattern "*.txt" -recursive

# Search with include (only txt files)
tools\ps\search.ps1 -op grep -root d:\tooling -pattern "TODO" -include "*.txt" -recursive

# Search excluding scripts folder (should not return commands.txt)
tools\ps\search.ps1 -op grep -root d:\tooling -pattern "TODO" -exclude "commands.txt" -recursive

# Copy tmp.txt into testdir
tools\ps\fs.ps1 -op copy -path d:\tooling\tmp.txt -dest d:\tooling\testdir\tmp_copy.txt

# Move the copy
tools\ps\fs.ps1 -op move -path d:\tooling\testdir\tmp_copy.txt -dest d:\tooling\testdir\tmp_moved.txt

# Read moved file
tools\ps\fs.ps1 -op read-lines -path d:\tooling\testdir\tmp_moved.txt

# Delete the testdir (confirm)
tools\ps\fs.ps1 -op delete -path d:\tooling\testdir -confirm
